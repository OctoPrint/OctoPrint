<div id="filemanager_dialog" class="modal hide fade container filemanager_modal" tabindex="-1" role="dialog" aria-labelledby="filemanager_dialog_label" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3 id="filemanager_dialog_label">OctoPrint Filemanager</h3>
    </div>
	<div class="modal-body overflow_visible">
		<div class="accordion row-fluid" id="directoryTab" style="height: 100%;">
			<div class="accordion-group span4"style="height: 100%;">
				<div class="accordion-inner">
					<div class="container css-treeview">
						<ul data-bind="template: { name: $root.displayMode, foreach: directoryList }"></ul>
					</div>
				</div>
			</div>
			<div class="accordion-group span8" id="fileTab" data-bind="click: selectFile" style="height: 100%; background-color:">
				<div class="accordion-inner">
					<div class="container css-treeview">
						<ul data-bind="foreach: itemList">
							<li data-bind="css: { active: $root.isFileSelected($data), cut: $root.isFileCut($data) }"><a href="#" class="file" data-bind="text: name, click: $root.selectFile"></a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="dirContextMenu" class="dropdown clearfix fileManagerPopup">
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
			<li><a href="#" data-bind="click: createFolder">Create new Folder</a></li>
			<li data-bind="css:  { divider: $root.activeFolders().length > 0 }"></li>
			<li data-bind="if: $root.activeFolders().length == 1"><a href="#" data-bind="click:$root.removeFolder">Delete Folder</a></li>
			<li data-bind="if: $root.activeFolders().length > 1"><a href="#" data-bind="click: $root.removeFolder">Delete Folders</a></li>
			<li data-bind="css:  { divider: $root.activeFolders().length > 0 }"></li>
			<li data-bind="if: $root.activeFolders().length == 1"><a href="#" data-bind="click: $root.cutFolder">Cut Folder</a></li>
			<li data-bind="if: $root.activeFolders().length > 1"><a href="#" data-bind="click: $root.cutFolder">Cut Folders</a></li>
			<li data-bind="css:  { divider: $root.activeFolders().length == 1 && $root.cutFolders().length > 0 }"></li>
			<li data-bind="if: $root.activeFolders().length == 1 && $root.cutFolders().length == 1"><a href="#" data-bind="click: $root.pasteFolder">Paste Folder</a></li>
			<li data-bind="if: $root.activeFolders().length == 1 && $root.cutFolders().length > 1"><a href="#" data-bind="click: $root.pasteFolder">Paste Folders</a></li>
			
		</ul>
	</div>
	<div id="fileContextMenu" class="dropdown clearfix fileManagerPopup">
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
			<li><a href="#" data-bind="click: selectAll">Select All</a></li>
			<li><a href="#" data-bind="click: deselectAll">Deselect All</a></li>
			<li data-bind="css:  { divider: $root.activeFolders().length > 0 }"></li>
			<li data-bind="if: $root.activeFolders().length == 1"><a href="#" data-bind="click:$root.removeFile">Delete File</a></li>
			<li data-bind="if: $root.activeFolders().length > 1"><a href="#" data-bind="click: $root.removeFile">Delete Files</a></li>
			<li data-bind="css:  { divider: $root.activeFolders().length > 0 }"></li>
			<li data-bind="if: $root.activeFolders().length == 1"><a href="#" data-bind="click: $root.cutFile">Cut File</a></li>
			<li data-bind="if: $root.activeFolders().length > 1"><a href="#" data-bind="click: $root.cutFile">Cut Files</a></li>
			<li data-bind="css:  { divider: $root.activeFolders().length == 1 && $root.cutFiles().length > 0 }"></li>
			<li data-bind="if: $root.activeFolders().length == 1 && $root.cutFiles().length == 1"><a href="#" data-bind="click: $root.pasteFile">Paste File</a></li>
			<li data-bind="if: $root.activeFolders().length == 1 && $root.cutFiles().length > 1"><a href="#" data-bind="click: $root.pasteFile">Paste Files</a></li>
		</ul>
	</div>

	<script type="text/html" id="expandableDir">
	<li data-bind="css: { active: $root.isFolderSelected($data), cut: $root.isFolderCut($data) }"><input type="checkbox" data-bind="attr: { id: name }"></input><a href="#" class="directory" data-bind="text: name, attr: { for: name }, click: $root.selectFolder"></a>
		<ul data-bind="template: { name: $root.displayMode, foreach: dirs }"></ul>
	</li>
	</script>

	<script type="text/html" id="singleDir">
	<li data-bind="css: { active: $root.isFolderSelected($data), cut: $root.isFolderCut($data) }"><a href="#" class="directory" data-bind="text: name, attr: { for: name }, click: $root.selectFolder"></a></li>
	</script>
</div>